/* Import animations and base dropdown styles */
@import '../../../../../sass/components/_animations.scss';
@import '../../../../../sass/components/_tag-pill-dropdown.scss';

/* Dropdown Plugin Styles */
.dropdown-menu-tag-pill-wrapper {
    // Wrapper position
    @include dropdownChipWrapperPosition((
        position: relative
    ));

    // Trigger button
    @include dropdownTriggerStructure((
        fontSize: .9rem,
        fontWeight: 400,
        iconMargin: 0 .3rem 0 .2rem,
        triggerPadding: 0
    ));

    // Dropdown items
    @include dropdownItemsStructure((
        itemFontSize: .83rem
    ));

    // Bubble container
    @include infoBubblePlacement();
    @include infoBubbleStructure();

    // Themes
    &.theme-light {
        @include infoBubbleTheme((
            surfaceBg: $offWhite,
            surfaceFg: $nightBlue,
            bubbleShadow: $dropdownLightThemeSubmenuBoxShadow,
            borderLightnessAdjustment: -10%,
            hoverLightnessAdjustment: -6%,
            itemFontSize: .83rem
        ));
        @include tagPillDropdownLightTheme();
    }
    &.theme-dark  {
        @include infoBubbleTheme((
            surfaceBg: $steelBlue,
            surfaceFg: $offWhite,
            bubbleShadow: $dropdownDarkThemeSubmenuBoxShadow,
            borderLightnessAdjustment: -10%,
            hoverLightnessAdjustment: -6%,
            itemFontSize: .83rem
        ));
        @include tagPillDropdownDarkTheme();
    }

    // Hidden by default; shown when parent gets .dropdown-open class
    .dots-dropdown-menu {
        .submenu-wrapper {
            display: none;
        }
    }
}

/* Dropdown open state - when ProseMirror decoration adds .dropdown-open class */
.dropdown-open {
    .dropdown-menu-tag-pill-wrapper {
        .dots-dropdown-menu {
            .submenu-wrapper {
                display: block;
                animation: popOut 300ms cubic-bezier(0.19, 1, 0.22, 1);
            }
        }
    }
}
