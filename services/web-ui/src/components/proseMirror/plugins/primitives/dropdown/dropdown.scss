/* Import animations and base dropdown styles */
@import '../../../../../sass/components/_animations.scss';
@import '../../../../../sass/components/_tag-pill-dropdown.scss';

/* Dropdown Plugin Styles */
.dropdown-menu-tag-pill-wrapper {
    // Common structure + submenu placement
    @include dropdownChipWrapperPosition((
        position: relative
    ));
    @include dropdownChipStructure((
        fontSize: .9rem,
        fontWeight: 400,
        itemFontSize: .83rem,
        iconMargin: 0 .3rem 0 .2rem,
        triggerPadding: 0
    ));
    @include dropdownChipSubmenuPlacement();

    // Themes
    &.theme-light {
        @include tagPillDropdownLightTheme((
            // itemIconColor: red
        ));
    }
    &.theme-dark  {
        @include tagPillDropdownDarkTheme((
            // itemIconColor: blue
        ));
    }

    // Hidden by default; shown when parent gets .dropdown-open class
    .dots-dropdown-menu {
        .submenu-wrapper {
            display: none;
        }
    }
}

/* Dropdown open state - when ProseMirror decoration adds .dropdown-open class */
.dropdown-open {
    .dropdown-menu-tag-pill-wrapper {
        .dots-dropdown-menu {
            .submenu-wrapper {
                display: block;
                animation: popOut 300ms cubic-bezier(0.19, 1, 0.22, 1);
            }
        }
    }
}

/* Dropdown option item with tags */
.dropdown-option-item {
    align-items: flex-start;

    .option-icon {
        flex-shrink: 0;
        align-self: flex-start;
    }

    .option-content {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        flex: 1;
        gap: 0.5rem;

        .option-title {
            display: block;
            flex-shrink: 0;
        }

        .option-tags {
            display: flex;
            flex-wrap: nowrap;
            gap: 0.4rem;
            margin-left: auto;

            .option-tag {
                display: inline-block;
                padding: 0;
                font-size: 0.7rem;
                font-weight: 500;
                text-transform: uppercase;
                background-color: transparent;
                border: none;
                white-space: nowrap;
                opacity: 0.6;
            }
        }
    }
}